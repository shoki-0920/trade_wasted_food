<h1>
  <% if @fishing_spot %>
    <%= @fishing_spot.name %>の投稿一覧
  <% else %>
    投稿一覧
  <% end %>
</h1>

<% @posts.each do |post| %>
  <%= link_to post_path(post), class: "block p-4 mb-4 border rounded hover:bg-gray-100" do %>
    <h2 class="text-xl font-bold"><%= post.title %></h2>
    <p><%= truncate(post.description, length: 100) %></p>
    <p>価格: ¥<%= post.price %></p>

    <% if post.image && post.image.attached? %>
      <%= image_tag post.image, class: "max-w-xs mt-2" %>
    <% else %>
      <p class="text-sm text-gray-500 mt-2">画像はまだアップロードされていません。</p>
    <% end %>

    <% if post.user %>
      <p class="text-sm text-gray-600 mt-1">投稿者: <%= post.user.name %></p>
    <% else %>
      <p class="text-sm text-gray-500 mt-1">投稿者情報がありません。</p>
    <% end %>
  <% end %>
<% end %>